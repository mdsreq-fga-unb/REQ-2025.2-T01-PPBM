<<<<<<< HEAD
<!-- Generated by SpecStory -->
=======
<!-- Generated by SpecStory, Markdown v2.0.0 -->
>>>>>>> refactor/eng-requisitos

<!-- cursor Session 7f099bac-fc94-4967-a425-3cb7f053d718 (2025-10-02 12:08Z) -->

# Organizar requisitos e regras de negócio (2025-10-02 12:08Z)

_**User (2025-10-02 12:08Z)**_

@requisitos.md Coloque os requisitos 003, 004 e 005 dentro do 001 como subcaracteristicas dele.

008,010 dentro do 007 como subcara.

Do 011 ao 014 é regra de negócio ´pode colcar lá @regras-negocio.md  e restirar daqui . 
 

---

<<<<<<< HEAD
_**Assistant (default)**_
=======
_**Agent (model default, mode Agent)**_
>>>>>>> refactor/eng-requisitos

Reorganizando os requisitos conforme solicitado: movendo alguns como subcaracterísticas e transferindo outros para regras de negócio.


---

<<<<<<< HEAD
Tool use: **todo_write**

## Todo List
=======
<tool-use data-tool-type="generic" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>
>>>>>>> refactor/eng-requisitos

- [-] Mover RF-003, RF-004 e RF-005 como subcaracterísticas do RF-001
- [ ] Mover RF-008 e RF-010 como subcaracterísticas do RF-007
- [ ] Mover RF-011 a RF-014 para regras de negócio e remover dos requisitos

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 1, lines removed: 10

```diff
@@ -25,14 +25,5 @@
  * pelo menos um responsável obrigatório por Aluno.
  
- **RF-002 – Gerenciar responsáveis**
- 
- Editar/remover responsáveis, com vínculo a uma Aluno e múltiplos contatos.
- Critérios de aceite:
- 
- * validação de dados de contato;
- * possibilidade de múltiplos responsáveis;
- * histórico de alterações mantido.
- 
- **RF-003 – Registrar ficha médica**
+ **RF-001.1 – Registrar ficha médica**
  
  Registrar e manter observações médicas (asma, alergias, restrições, medicações e contatos de emergência).
```

**Chunk 2**
Lines added: 1, lines removed: 1

```diff
@@ -44,5 +35,5 @@
  * atualização de informações médicas com data/hora.
  
- **RF-004 – Diferenciar perfil neurodivergente**
+ **RF-001.2 – Diferenciar perfil neurodivergente**
  
  Diferenciar cadastro para crianças neurodivergentes (campos de acompanhamento, adaptações e observações pedagógicas).
```

**Chunk 3**
Lines added: 1, lines removed: 1

```diff
@@ -54,5 +45,5 @@
  * alertas para educadores sobre adaptações necessárias.
  
- **RF-005 – Cadastrar informações complementares do aluno**
+ **RF-001.3 – Cadastrar informações complementares do aluno**
  
  Permitir o registro de informações adicionais como:
```

**Chunk 4**
Lines added: 9, lines removed: undefined

```diff
@@ -65,4 +56,13 @@
  * regras automáticas de atribuição de graduação conforme idade;
  * possibilidade de atualização e histórico de alterações.
+ 
+ **RF-002 – Gerenciar responsáveis**
+ 
+ Editar/remover responsáveis, com vínculo a uma Aluno e múltiplos contatos.
+ Critérios de aceite:
+ 
+ * validação de dados de contato;
+ * possibilidade de múltiplos responsáveis;
+ * histórico de alterações mantido.
  
  **RF-006 – Exportar documentos de comprovante**
```

</details>

<<<<<<< HEAD
---

Tool use: **todo_write**

## Todo List
=======
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>
>>>>>>> refactor/eng-requisitos

- [x] Mover RF-003, RF-004 e RF-005 como subcaracterísticas do RF-001
- [-] Mover RF-008 e RF-010 como subcaracterísticas do RF-007
- [ ] Mover RF-011 a RF-014 para regras de negócio e remover dos requisitos

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -90,5 +90,5 @@
  * confirmação antes do salvamento.
  
- **RF-008 – Justificar falta**
+ **RF-007.1 – Justificar falta**
  
  Permitir justificar faltas com motivo, anexo (opcional) e status (pendente/aprovada/recusada).
```

**Chunk 2**
Lines added: 10, lines removed: undefined

```diff
@@ -99,4 +99,14 @@
  * anexos limitados a formatos específicos (PDF, JPG, PNG);
  * notificação automática para responsáveis.
+ 
+ **RF-007.2 – Suportar anexos**
+ 
+ Permitir anexar comprovantes (PDF/JPG/PNG) em justificativas e comunicações.
+ Critérios de aceite:
+ 
+ * validação de formato e tamanho;
+ * preview de imagens;
+ * compressão automática;
+ * armazenamento seguro de arquivos.
  
  **RF-009 – Editar lançamento de presença**
```

**Chunk 3**
Lines added: undefined, lines removed: 10

```diff
@@ -109,14 +119,4 @@
  * notificação de alterações para responsáveis;
  * confirmação de alteração.
- 
- **RF-010 – Suportar anexos**
- 
- Permitir anexar comprovantes (PDF/JPG/PNG) em justificativas e comunicações.
- Critérios de aceite:
- 
- * validação de formato e tamanho;
- * preview de imagens;
- * compressão automática;
- * armazenamento seguro de arquivos.
  
  **RF-011 – Definir política de justificativa de faltas**
```

</details>

<<<<<<< HEAD
---

Tool use: **todo_write**

## Todo List
=======
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>
>>>>>>> refactor/eng-requisitos

- [x] Mover RF-003, RF-004 e RF-005 como subcaracterísticas do RF-001
- [x] Mover RF-008 e RF-010 como subcaracterísticas do RF-007
- [-] Mover RF-011 a RF-014 para regras de negócio e remover dos requisitos

<<<<<<< HEAD
=======
</details>
</tool-use>

>>>>>>> refactor/eng-requisitos
---

Movendo os RF-011 a RF-014 para regras de negócio e removendo-os dos requisitos.


---

<<<<<<< HEAD
Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: undefined, lines removed: 35

```diff
@@ -120,39 +120,4 @@
  * confirmação de alteração.
  
- **RF-011 – Definir política de justificativa de faltas**
- 
<<<<<<< HEAD
- Permitir que faltas justificadas sejam registradas como "falta justificada", não anulando a ausência, mas impactando indicadores de forma diferenciada.
- Critérios de aceite:
- 
- * exibir no histórico como "falta justificada";
=======
- Permitir que faltas justificadas sejam registradas como &quot;falta justificada&quot;, não anulando a ausência, mas impactando indicadores de forma diferenciada.
- Critérios de aceite:
- 
- * exibir no histórico como &quot;falta justificada&quot;;
>>>>>>> refactor/eng-requisitos
- * contabilizar separadamente das faltas comuns;
- * manter rastreabilidade no relatório individual.
- 
- **RF-012 – Conceder autonomia docente para justificativas**
- 
- Permitir que o professor aprove ou rejeite justificativas de falta de forma autônoma.
- Critérios de aceite:
- 
- * interface para docentes validarem justificativas;
- * registro de decisão (aprovada/recusada) com data/hora;
- * notificação ao responsável sobre a decisão.
- 
- **RF-013 – Definir motivos e documentos aceitos para justificativa**
- 
- Permitir parametrização dos motivos justificáveis (ex.: atestado médico, participação em atividades desportivas) e exigência de documentos obrigatórios.
- Critérios de aceite:
- 
- * cadastro de lista de motivos aceitos;
- * exigência de anexos em casos definidos (ex.: atestado médico);
- * validação de anexos quanto a formato e obrigatoriedade.
- 
- **RF-014 – Limitar número de alunos por turma (pelotão)**
- 
- Permitir configuração de limite de 30 alunos por turma (pelotão).
- Critérios de aceite:
- 
- * impedir cadastro acima do limite configurado;
- * exibir alerta ao gestor quando turma atingir lotação máxima;
- * permitir exceções apenas com autorização administrativa.
  
  ---
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 12, lines removed: undefined

```diff
@@ -24,4 +24,16 @@
  **RB-005**
  Comunicação oficial deve permanecer registrada no sistema (não apagar, apenas arquivar).
+ 
+ **RB-006**
<<<<<<< HEAD
+ Faltas justificadas devem ser registradas como "falta justificada", não anulando a ausência, mas impactando indicadores de forma diferenciada.
=======
+ Faltas justificadas devem ser registradas como &quot;falta justificada&quot;, não anulando a ausência, mas impactando indicadores de forma diferenciada.
>>>>>>> refactor/eng-requisitos
+ 
+ **RB-007**
+ Apenas Gestor de Unidade pode aprovar ou rejeitar justificativas de falta de forma autônoma.
+ 
+ **RB-008**
+ Sistema deve permitir parametrização dos motivos justificáveis e exigência de documentos obrigatórios.
+ 
+ **RB-009**
+ Limite de 30 alunos por turma (pelotão) deve ser configurável e respeitado.
  
  ---
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 36, lines removed: 1

```diff
@@ -83,4 +84,39 @@
  - Arquivo deve preservar integridade e autenticidade das mensagens
  - Busca em comunicações arquivadas deve ser possível
- - Busca em comunicações arquivadas deve ser possível
+ 
+ ### RB-006 - Política de Justificativa de Faltas
<<<<<<< HEAD
+ **Descrição:** Faltas justificadas devem ser registradas como "falta justificada", não anulando a ausência, mas impactando indicadores de forma diferenciada.
+ 
+ **Aplicação:**
+ - Exibir no histórico como "falta justificada"
=======
+ **Descrição:** Faltas justificadas devem ser registradas como &quot;falta justificada&quot;, não anulando a ausência, mas impactando indicadores de forma diferenciada.
+ 
+ **Aplicação:**
+ - Exibir no histórico como &quot;falta justificada&quot;
>>>>>>> refactor/eng-requisitos
+ - Contabilizar separadamente das faltas comuns
+ - Manter rastreabilidade no relatório individual
+ - Impactar indicadores de forma diferenciada
+ 
+ ### RB-007 - Autonomia Docente para Justificativas
+ **Descrição:** Apenas Gestor de Unidade pode aprovar ou rejeitar justificativas de falta de forma autônoma.
+ 
+ **Aplicação:**
+ - Interface para gestores validarem justificativas
+ - Registro de decisão (aprovada/recusada) com data/hora
+ - Notificação ao responsável sobre a decisão
+ - Docentes podem registrar justificativas, mas não aprová-las
+ 
+ ### RB-008 - Motivos e Documentos para Justificativa
+ **Descrição:** Sistema deve permitir parametrização dos motivos justificáveis e exigência de documentos obrigatórios.
+ 
+ **Aplicação:**
+ - Cadastro de lista de motivos aceitos
+ - Exigência de anexos em casos definidos (ex.: atestado médico)
+ - Validação de anexos quanto a formato e obrigatoriedade
+ - Configuração flexível de políticas por unidade
+ 
+ ### RB-009 - Limite de Alunos por Turma
+ **Descrição:** Limite de 30 alunos por turma (pelotão) deve ser configurável e respeitado.
+ 
+ **Aplicação:**
+ - Impedir cadastro acima do limite configurado
+ - Exibir alerta ao gestor quando turma atingir lotação máxima
+ - Permitir exceções apenas com autorização administrativa
+ - Configuração flexível do limite por unidade
  
```

</details>

<<<<<<< HEAD
---

Tool use: **todo_write**

## Todo List
=======
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>
>>>>>>> refactor/eng-requisitos

- [x] Mover RF-003, RF-004 e RF-005 como subcaracterísticas do RF-001
- [x] Mover RF-008 e RF-010 como subcaracterísticas do RF-007
- [x] Mover RF-011 a RF-014 para regras de negócio e remover dos requisitos

<<<<<<< HEAD
=======
</details>
</tool-use>

>>>>>>> refactor/eng-requisitos
---

Reorganização concluída.

## Resumo das alterações realizadas:

### 1. **RF-001 - Cadastrar Aluno** (subcaracterísticas adicionadas):
- **RF-001.1** – Registrar ficha médica (antigo RF-003)
- **RF-001.2** – Diferenciar perfil neurodivergente (antigo RF-004)
- **RF-001.3** – Cadastrar informações complementares do aluno (antigo RF-005)

### 2. **RF-007 - Registrar presença** (subcaracterísticas adicionadas):
- **RF-007.1** – Justificar falta (antigo RF-008)
- **RF-007.2** – Suportar anexos (antigo RF-010)

### 3. **Regras de Negócio** (novas regras adicionadas):
- **RB-006** – Política de justificativa de faltas (antigo RF-011)
- **RB-007** – Autonomia docente para justificativas (antigo RF-012)
- **RB-008** – Motivos e documentos para justificativa (antigo RF-013)
- **RB-009** – Limite de alunos por turma (antigo RF-014)

Os requisitos foram reorganizados conforme solicitado, com subcaracterísticas nos requisitos principais e regras de negócio movidas para o documento apropriado.

---

_**User (2025-10-02 12:08Z)**_

não coloque as subcaracteristicas como requisitos so como subcaracteristicas

---

<<<<<<< HEAD
_**Assistant (default)**_
=======
_**Agent (model default, mode Agent)**_
>>>>>>> refactor/eng-requisitos

Ajustando a formatação: as subcaracterísticas serão listadas como subitens, não como requisitos numerados.


---

<<<<<<< HEAD
Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 5, lines removed: 29

```diff
@@ -25,35 +25,11 @@
  * pelo menos um responsável obrigatório por Aluno.
  
- **RF-001.1 – Registrar ficha médica**
- 
- Registrar e manter observações médicas (asma, alergias, restrições, medicações e contatos de emergência).
- Critérios de aceite:
- 
- * alerta visual quando houver condição crítica cadastrada;
- * campos obrigatórios para condições críticas;
- * possibilidade de anexar documentos médicos;
- * atualização de informações médicas com data/hora.
+ **Subcaracterísticas:**
+ 
+ * **Registrar ficha médica:** Registrar e manter observações médicas (asma, alergias, restrições, medicações e contatos de emergência). Critérios: alerta visual quando houver condição crítica cadastrada; campos obrigatórios para condições críticas; possibilidade de anexar documentos médicos; atualização de informações médicas com data/hora.
  
- **RF-001.2 – Diferenciar perfil neurodivergente**
- 
- Diferenciar cadastro para crianças neurodivergentes (campos de acompanhamento, adaptações e observações pedagógicas).
- Critérios de aceite:
- 
- * identificação clara do perfil neurodivergente importando o documento de comprovante;
- * campos específicos para acompanhamento pedagógico;
- * relatórios diferenciados para este perfil;
- * alertas para educadores sobre adaptações necessárias.
+ * **Diferenciar perfil neurodivergente:** Diferenciar cadastro para crianças neurodivergentes (campos de acompanhamento, adaptações e observações pedagógicas). Critérios: identificação clara do perfil neurodivergente importando o documento de comprovante; campos específicos para acompanhamento pedagógico; relatórios diferenciados para este perfil; alertas para educadores sobre adaptações necessárias.
  
- **RF-001.3 – Cadastrar informações complementares do aluno**
- 
- Permitir o registro de informações adicionais como:
- 
- * nome de guerra;
- * tipo sanguíneo;
- * graduação (soldado até 9 anos; de 10 anos a cabo; a cada 11 anos, 3º sargento; sargento).
-   Critérios de aceite:
- * campos obrigatórios validados;
- * regras automáticas de atribuição de graduação conforme idade;
- * possibilidade de atualização e histórico de alterações.
+ * **Cadastrar informações complementares do aluno:** Permitir o registro de informações adicionais como nome de guerra, tipo sanguíneo, graduação (soldado até 9 anos; de 10 anos a cabo; a cada 11 anos, 3º sargento; sargento). Critérios: campos obrigatórios validados; regras automáticas de atribuição de graduação conforme idade; possibilidade de atualização e histórico de alterações.
  
  **RF-002 – Gerenciar responsáveis**
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 4, lines removed: 18

```diff
@@ -66,23 +66,9 @@
  * confirmação antes do salvamento.
  
- **RF-007.1 – Justificar falta**
- 
- Permitir justificar faltas com motivo, anexo (opcional) e status (pendente/aprovada/recusada).
- Critérios de aceite:
- 
- * registrar autor, data/hora e trilha de auditoria;
- * motivo obrigatório para justificativa;
- * anexos limitados a formatos específicos (PDF, JPG, PNG);
- * notificação automática para responsáveis.
+ **Subcaracterísticas:**
+ 
+ * **Justificar falta:** Permitir justificar faltas com motivo, anexo (opcional) e status (pendente/aprovada/recusada). Critérios: registrar autor, data/hora e trilha de auditoria; motivo obrigatório para justificativa; anexos limitados a formatos específicos (PDF, JPG, PNG); notificação automática para responsáveis.
  
- **RF-007.2 – Suportar anexos**
- 
- Permitir anexar comprovantes (PDF/JPG/PNG) em justificativas e comunicações.
- Critérios de aceite:
- 
- * validação de formato e tamanho;
- * preview de imagens;
- * compressão automática;
- * armazenamento seguro de arquivos.
+ * **Suportar anexos:** Permitir anexar comprovantes (PDF/JPG/PNG) em justificativas e comunicações. Critérios: validação de formato e tamanho; preview de imagens; compressão automática; armazenamento seguro de arquivos.
  
  **RF-009 – Editar lançamento de presença**
```

</details>

<<<<<<< HEAD
=======
</tool-use>

>>>>>>> refactor/eng-requisitos
---

Formatação ajustada: as subcaracterísticas agora aparecem como subitens dos requisitos principais, não como requisitos numerados.

## Resumo da correção:

### **RF-001 – Cadastrar Aluno**
- **Subcaracterísticas:**
  - Registrar ficha médica
  - Diferenciar perfil neurodivergente
  - Cadastrar informações complementares do aluno

### **RF-007 – Registrar presença**
- **Subcaracterísticas:**
  - Justificar falta
  - Suportar anexos

As subcaracterísticas estão listadas como subitens dos requisitos principais, mantendo a hierarquia correta.

---

_**User (2025-10-02 12:08Z)**_

025 e 026 é RB

---

<<<<<<< HEAD
_**Assistant (default)**_
=======
_**Agent (model default, mode Agent)**_
>>>>>>> refactor/eng-requisitos

Movendo RF-025 e RF-026 para regras de negócio e removendo-os dos requisitos.


---

<<<<<<< HEAD
Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: undefined, lines removed: 18

```diff
@@ -188,22 +188,4 @@
  * primeiro acesso com alteração obrigatória de senha.
  
- **RF-025 – Controlar permissões de acesso**
- 
- Restringir operações por papel (ex.: responsável não edita presenças; docente registra e justifica; gestor aprova justificativas).
- Critérios de aceite:
- 
- * matriz de permissões clara;
- * validação de acesso em cada operação;
- * logs de tentativas de acesso negado.
- 
- **RF-026 – Operar multiunidade**
- 
- Operar dados segregados por 12 cidades/unidades, com visão consolidada para administradores.
- Critérios de aceite:
- 
- * isolamento completo de dados por unidade;
- * visão consolidada apenas para administradores;
- * possibilidade de transferir alunos entre unidades;
- * relatórios consolidados por região.
  
  ---
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 6, lines removed: undefined

```diff
@@ -36,4 +36,10 @@
  **RB-009**
  Limite de 30 alunos por turma (pelotão) deve ser configurável e respeitado.
+ 
+ **RB-010**
+ Sistema deve restringir operações por papel de usuário conforme matriz de permissões.
+ 
+ **RB-011**
+ Sistema deve operar com dados segregados por unidade, mantendo isolamento completo.
  
  ---
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 21, lines removed: 1

```diff
@@ -125,4 +126,24 @@
  - Permitir exceções apenas com autorização administrativa
  - Configuração flexível do limite por unidade
- - Configuração flexível do limite por unidade
+ 
+ ### RB-010 - Controle de Permissões de Acesso
+ **Descrição:** Sistema deve restringir operações por papel de usuário conforme matriz de permissões.
+ 
+ **Aplicação:**
+ - Responsável não edita presenças
+ - Docente registra e justifica presenças
+ - Gestor aprova justificativas
+ - Matriz de permissões clara e validada
+ - Logs de tentativas de acesso negado
+ - Validação de acesso em cada operação
+ 
+ ### RB-011 - Operação Multiunidade
+ **Descrição:** Sistema deve operar com dados segregados por unidade, mantendo isolamento completo.
+ 
+ **Aplicação:**
+ - Isolamento completo de dados por unidade
+ - Visão consolidada apenas para administradores
+ - Possibilidade de transferir alunos entre unidades
+ - Relatórios consolidados por região
+ - Operação em 12 cidades/unidades
  
```

</details>

<<<<<<< HEAD
=======
</tool-use>

>>>>>>> refactor/eng-requisitos
---

RF-025 e RF-026 movidos para regras de negócio e removidos dos requisitos.

## Resumo das alterações:

### **Regras de Negócio Adicionadas:**

**RB-010 - Controle de Permissões de Acesso**
- Restringir operações por papel de usuário conforme matriz de permissões
- Responsável não edita presenças; docente registra e justifica; gestor aprova justificativas
- Validação de acesso em cada operação e logs de tentativas negadas

**RB-011 - Operação Multiunidade**
- Operar com dados segregados por unidade, mantendo isolamento completo
- Visão consolidada apenas para administradores
- Possibilidade de transferir alunos entre unidades
- Operação em 12 cidades/unidades

Os requisitos RF-025 e RF-026 foram removidos do documento de requisitos e incorporados como regras de negócio.

---

_**User (2025-10-02 12:08Z)**_

027 também é rb

---

<<<<<<< HEAD
_**Assistant (default)**_
=======
_**Agent (model default, mode Agent)**_
>>>>>>> refactor/eng-requisitos

Movendo RF-027 para regras de negócio e removendo-o dos requisitos.


---

<<<<<<< HEAD
Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: undefined, lines removed: 9

```diff
@@ -193,13 +193,4 @@
<<<<<<< HEAD
  ### Módulo: Operação & Processo
=======
  ### Módulo: Operação &amp; Processo
>>>>>>> refactor/eng-requisitos
  
- **RF-027 – Registrar auditoria**
- 
- Registrar trilhas de auditoria (quem fez, o quê, quando, antes/depois) para operações sensíveis.
- Critérios de aceite:
- 
- * registro automático de todas as operações críticas;
- * dados imutáveis de auditoria;
- * relatórios de auditoria exportáveis;
- * retenção de logs por período configurável.
  
  **RF-028 – Cadastrar turmas e sessões**
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 3, lines removed: undefined

```diff
@@ -42,4 +42,7 @@
  **RB-011**
  Sistema deve operar com dados segregados por unidade, mantendo isolamento completo.
+ 
+ **RB-012**
+ Sistema deve registrar trilhas de auditoria para todas as operações sensíveis.
  
  ---
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 10, lines removed: 1

```diff
@@ -149,4 +150,13 @@
  - Relatórios consolidados por região
  - Operação em 12 cidades/unidades
- - Operação em 12 cidades/unidades
+ 
+ ### RB-012 - Registro de Auditoria
+ **Descrição:** Sistema deve registrar trilhas de auditoria para todas as operações sensíveis.
+ 
+ **Aplicação:**
+ - Registro automático de todas as operações críticas
+ - Trilhas de auditoria com informações: quem fez, o quê, quando, antes/depois
+ - Dados imutáveis de auditoria
+ - Relatórios de auditoria exportáveis
+ - Retenção de logs por período configurável
  
```

</details>

<<<<<<< HEAD
=======
</tool-use>

>>>>>>> refactor/eng-requisitos
---

RF-027 movido para regras de negócio e removido dos requisitos.

## Resumo da alteração:

### **Regra de Negócio Adicionada:**

**RB-012 - Registro de Auditoria**
- Registrar trilhas de auditoria para operações sensíveis
- Registro automático de operações críticas
- Trilhas com: quem fez, o quê, quando, antes/depois
- Dados imutáveis de auditoria
- Relatórios de auditoria exportáveis
- Retenção de logs por período configurável

O requisito RF-027 foi removido do documento de requisitos e incorporado como regra de negócio.

---

_**User (2025-10-02 12:08Z)**_

RF-032 – Exibir conteúdos institucionais para usuários é rfn porque está relacionado com navegabilidade

---

<<<<<<< HEAD
_**Assistant (default)**_
=======
_**Agent (model default, mode Agent)**_
>>>>>>> refactor/eng-requisitos

Movendo RF-032 para requisitos não funcionais, pois trata de navegabilidade.


---

<<<<<<< HEAD
Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: undefined, lines removed: 8

```diff
@@ -261,12 +261,4 @@
  * controle de versões.
  
- **RF-032 – Exibir conteúdos institucionais para usuários**
- 
- Disponibilizar os conteúdos cadastrados em área dedicada do sistema.
- Critérios de aceite:
- 
- * acesso restrito por perfil (apenas gestores podem editar, todos podem visualizar);
- * visualização clara em desktop e mobile;
- * busca por título, categoria ou palavra-chave.
  
  ---
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 10, lines removed: undefined

```diff
@@ -349,4 +349,14 @@
  
  Português (Brasil) com terminologia do PBM (brigadinos/brigadinas).
+ 
+ **RNF-004 – Navegabilidade de Conteúdos Institucionais**
+ 
+ Disponibilizar os conteúdos cadastrados em área dedicada do sistema com navegação intuitiva.
+ **Critérios de aceite:**
+ 
+ * acesso restrito por perfil (apenas gestores podem editar, todos podem visualizar);
+ * visualização clara em desktop e mobile;
+ * busca por título, categoria ou palavra-chave;
+ * navegação intuitiva entre diferentes categorias de conteúdo.
  
  ---
```

</details>

<<<<<<< HEAD
=======
</tool-use>

>>>>>>> refactor/eng-requisitos
---

RF-032 movido para requisitos não funcionais como RNF-004.

## Resumo da alteração:

### **Requisito Não Funcional Adicionado:**

**RNF-004 - Navegabilidade de Conteúdos Institucionais**
- Disponibilizar conteúdos cadastrados em área dedicada com navegação intuitiva
- Acesso restrito por perfil (apenas gestores podem editar, todos podem visualizar)
- Visualização clara em desktop e mobile
- Busca por título, categoria ou palavra-chave
- Navegação intuitiva entre diferentes categorias de conteúdo

O requisito RF-032 foi removido dos requisitos funcionais e incorporado como requisito não funcional, pois trata de navegabilidade e usabilidade.

---

_**User (2025-10-02 12:08Z)**_

@requisitos.md organize a enumeração

---

<<<<<<< HEAD
_**Assistant (default)**_
=======
_**Agent (model default, mode Agent)**_
>>>>>>> refactor/eng-requisitos

Reorganizando a numeração dos requisitos após as remoções e movimentações.


---

<<<<<<< HEAD
Tool use: **read_file**

Read file: docs/src/content/docs/visao/requisitos.md

---

Tool use: **todo_write**

## Todo List
=======
<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/src/content/docs/visao/requisitos.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>
>>>>>>> refactor/eng-requisitos

- [-] Reorganizar enumeração dos requisitos funcionais (RF)
- [ ] Reorganizar enumeração dos requisitos não funcionais (RNF)

<<<<<<< HEAD
---

Tool use: **MultiEdit**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="MultiEdit">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -41,5 +41,5 @@
  * histórico de alterações mantido.
  
- **RF-006 – Exportar documentos de comprovante**
+ **RF-003 – Exportar documentos de comprovante**
  
  Permitir a exportação de documentos de comprovante importados (como laudos médicos, documentos de identificação neurodivergente, etc.) para download ou impressão.
```

**Chunk 2**
Lines added: 1, lines removed: 1

```diff
@@ -71,5 +71,5 @@
  * **Suportar anexos:** Permitir anexar comprovantes (PDF/JPG/PNG) em justificativas e comunicações. Critérios: validação de formato e tamanho; preview de imagens; compressão automática; armazenamento seguro de arquivos.
  
- **RF-009 – Editar lançamento de presença**
+ **RF-004 – Editar lançamento de presença**
  
  Corrigir registros de presença/falta com histórico de alterações.
```

**Chunk 3**
Lines added: 1, lines removed: 1

```diff
@@ -86,5 +86,5 @@
<<<<<<< HEAD
  ### Módulo: Relatórios & Análises
=======
  ### Módulo: Relatórios &amp; Análises
>>>>>>> refactor/eng-requisitos
  
- **RF-015 – Consultar aluno**
+ **RF-005 – Consultar aluno**
  
  Filtrar histórico de presenças/faltas por aluno, período e unidade.
```

**Chunk 4**
Lines added: 1, lines removed: 1

```diff
@@ -96,5 +96,5 @@
  * possibilidade de exportar resultados da consulta.
  
- **RF-016 – Gerar relatório individual de frequência**
+ **RF-006 – Gerar relatório individual de frequência**
  
  Gerar relatório por aluno (período selecionável) com taxas de presença, faltas justificadas e não justificadas.
```

**Chunk 5**
Lines added: 1, lines removed: 1

```diff
@@ -105,5 +105,5 @@
  * inclusão de gráficos visuais.
  
- **RF-017 – Consolidar relatórios por turma/unidade**
+ **RF-007 – Consolidar relatórios por turma/unidade**
  
  Consolidar frequência por turma, unidade e cidade, com comparativos por período.
```

**Chunk 6**
Lines added: 1, lines removed: 1

```diff
@@ -114,5 +114,5 @@
  * possibilidade de drill-down para detalhes.
  
- **RF-018 –  Exportar relatórios internos**
+ **RF-008 – Exportar relatórios internos**
  
  O sistema deve permitir a exportação de relatórios gerados pela plataforma para uso interno da equipe em formatos PDF e Excel (CSV/XLSX).
```

**Chunk 7**
Lines added: 1, lines removed: 1

```diff
@@ -124,5 +124,5 @@
  * validação de tamanho de arquivo para evitar exportações inválidas.
  
- **RF-019 – Exibir dashboards de frequência**
+ **RF-009 – Exibir dashboards de frequência**
  
  Exibir indicadores e gráficos (taxa média de presença, alertas de recorrência).
```

**Chunk 8**
Lines added: 1, lines removed: 1

```diff
@@ -134,5 +134,5 @@
  * possibilidade de personalizar visualizações.
  
- **RF-020 – Exibir histórico do aluno**
+ **RF-010 – Exibir histórico do aluno**
  
  Exibir linha do tempo com presenças, faltas, justificativas, atendimentos, advertências e comunicações relacionadas.
```

**Chunk 9**
Lines added: 1, lines removed: 1

```diff
@@ -144,5 +144,5 @@
  * possibilidade de exportar histórico.
  
- **RF-021 – Exportar relatórios oficiais padronizados administrativos**
+ **RF-011 – Exportar relatórios oficiais padronizados administrativos**
  
  Permitir exportação de relatórios em modelos definidos pelo CBMDF (incluindo logotipo e identidade oficial) voltado para a parte administrativa.
```

**Chunk 10**
Lines added: 2, lines removed: 2

```diff
@@ -158,9 +158,9 @@
  ### Módulo: Comunicação
  
- **RF-022 – Registrar advertência para os alunos**
+ **RF-012 – Registrar advertência para os alunos**
  
  Campo para anotações de comportamentos negativos de alunos.
  
- **RF-023 – Enviar notificações para os responsavéis**
+ **RF-013 – Enviar notificações para os responsavéis**
  
  Bot de notificações de comunicados de faltas e advertências ou botão de redirecionamento de notificações (WhatsApp, e-mail, plataforma própria).
```

**Chunk 11**
Lines added: 1, lines removed: 1

```diff
@@ -177,5 +177,5 @@
<<<<<<< HEAD
  ### Módulo: Acesso & Perfis
=======
  ### Módulo: Acesso &amp; Perfis
>>>>>>> refactor/eng-requisitos
  
- **RF-024 – Autenticar usuários e perfis**
+ **RF-014 – Autenticar usuários e perfis**
  
  Acesso com autenticação e papéis: Administrador, Gestor de Unidade, Docente, Responsável.
```

**Chunk 12**
Lines added: 1, lines removed: 1

```diff
@@ -192,5 +192,5 @@
<<<<<<< HEAD
  ### Módulo: Operação & Processo
=======
  ### Módulo: Operação &amp; Processo
>>>>>>> refactor/eng-requisitos
  
- **RF-027 – Cadastrar os docentes**
+ **RF-015 – Cadastrar os docentes**
  
  * Permitir cadastro com: nome, data de nascimento, CPF, escola/unidade, cidade.
```

**Chunk 13**
Lines added: 1, lines removed: 1

```diff
@@ -202,5 +202,5 @@
  * confirmação de dados antes do salvamento;
  
- **RF-028 – Cadastrar turmas e sessões**
+ **RF-016 – Cadastrar turmas e sessões**
  
  Cadastrar turmas, dias/horários, lotação.
```

**Chunk 14**
Lines added: 1, lines removed: 1

```diff
@@ -212,5 +212,5 @@
  * vinculação obrigatória de instrutor.
  
- **RF-029 – Consultar turma**
+ **RF-017 – Consultar turma**
  
  Busca dentro da turma por nome de alunos, CPF, unidade, status de justificativa, taxa de presença e período.
```

**Chunk 15**
Lines added: 1, lines removed: 1

```diff
@@ -225,5 +225,5 @@
  ### Módulo: Acompanhamento Neurodivergente
  
- **RF-030 – Registrar plano de acompanhamento neurodivergente**
+ **RF-018 – Registrar plano de acompanhamento neurodivergente**
  
  Permitir o registro de plano de acompanhamento pedagógica e acompanhamento periódico com responsáveis.
```

**Chunk 16**
Lines added: 2, lines removed: 2

```diff
@@ -234,10 +234,10 @@
  ---
  
- **RF-031 - Registro de relatórios dos responsáveis;**
+ **RF-019 – Registro de relatórios dos responsáveis**
  
  * periodicidade mínima de acompanhamento a cada 2 meses;
  * importar relatórios gerados na sessão de acompanhamento;
  
- **RF-032 - geração de histórico acessível a docentes e gestores.**
+ **RF-020 – Geração de histórico acessível a docentes e gestores**
  
  * geração de histórico de relatórios de acompanhamento acessível a docentes e gestores;
```

**Chunk 17**
Lines added: 1, lines removed: 1

```diff
@@ -246,5 +246,5 @@
  ### Módulo: Gestão de Conteúdo
  
- **RF-031 – Cadastrar conteúdos institucionais**
+ **RF-021 – Cadastrar conteúdos institucionais**
  
  Permitir o cadastro de conteúdos textuais e documentais, como:
```

</details>

<<<<<<< HEAD
---

Tool use: **todo_write**

## Todo List
=======
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>
>>>>>>> refactor/eng-requisitos

- [x] Reorganizar enumeração dos requisitos funcionais (RF)
- [-] Reorganizar enumeração dos requisitos não funcionais (RNF)

<<<<<<< HEAD
---

Tool use: **MultiEdit**


<details><summary>Edit file: docs/src/content/docs/visao/requisitos.md</summary>
=======
</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="MultiEdit">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/requisitos.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 2, lines removed: 2

```diff
@@ -276,9 +276,9 @@
  * relatórios gerados em até 10s.
  
- **RNF-004 – Tempo de resposta**
+ **RNF-002 – Tempo de resposta**
  
<<<<<<< HEAD
  95% das páginas < 2s; exportações até 10s para 5k registros.
=======
  95% das páginas &lt; 2s; exportações até 10s para 5k registros.
>>>>>>> refactor/eng-requisitos
  
- **RNF-005 – Carga**
+ **RNF-003 – Carga**
  
  Suportar uso concorrente das 12 unidades (≥150 usuários simultâneos no pico do registro de presença).
```

**Chunk 2**
Lines added: 1, lines removed: 1

```diff
@@ -288,5 +288,5 @@
<<<<<<< HEAD
  ### Módulo: Segurança & Privacidade
=======
  ### Módulo: Segurança &amp; Privacidade
>>>>>>> refactor/eng-requisitos
  
- **RNF-002 – Proteção de dados pessoais**
+ **RNF-004 – Proteção de dados pessoais**
  
  O sistema deve atender à LGPD, garantindo consentimento para coleta de dados sensíveis e direito de exclusão mediante solicitação.
```

**Chunk 3**
Lines added: 1, lines removed: 1

```diff
@@ -297,5 +297,5 @@
  * relatórios de conformidade disponíveis.
  
- **RNF-003 – Criptografia**
+ **RNF-005 – Criptografia**
  
  Todos os dados devem ser transmitidos via HTTPS/TLS 1.2 ou superior.
```

**Chunk 4**
Lines added: 1, lines removed: 1

```diff
@@ -309,5 +309,5 @@
<<<<<<< HEAD
  ### Módulo: Manutenibilidade & Evolutividade
=======
  ### Módulo: Manutenibilidade &amp; Evolutividade
>>>>>>> refactor/eng-requisitos
  
- **RNF-004 – Documentação técnica**
+ **RNF-006 – Documentação técnica**
  
  O sistema deve manter documentação atualizada de APIs, banco de dados e arquitetura.
```

**Chunk 5**
Lines added: 1, lines removed: 1

```diff
@@ -317,5 +317,5 @@
  * atualização obrigatória a cada release.
  
- **RNF-005 – Testabilidade**
+ **RNF-007 – Testabilidade**
  
  O sistema deve permitir criação de testes automatizados cobrindo no mínimo 70% das funcionalidades críticas.
```

**Chunk 6**
Lines added: 3, lines removed: 3

```diff
@@ -325,13 +325,13 @@
  * falha no build caso a cobertura fique abaixo do limite.
  
- **RNF-014 – Padrões de código**
+ **RNF-008 – Padrões de código**
  
  TypeScript com lint/prettier, testes unitários (TDD) e cobertura-alvo ≥70% no MVP.
  
- **RNF-015 – CI/CD**
+ **RNF-009 – CI/CD**
  
  Pipeline automatizado (build, testes, análise estática, deploy).
  
- **RNF-016 – Observabilidade**
+ **RNF-010 – Observabilidade**
  
  Monitoramento com métricas, logs estruturados e alertas.
```

**Chunk 7**
Lines added: 3, lines removed: 3

```diff
@@ -341,13 +341,13 @@
<<<<<<< HEAD
  ### Módulo: Qualidade & Usabilidade
=======
  ### Módulo: Qualidade &amp; Usabilidade
>>>>>>> refactor/eng-requisitos
  
- **RNF-001 – Usabilidade**
+ **RNF-011 – Usabilidade**
  
  Interface simples, navegação com voltar/avançar consistente e fluxos de 1–3 cliques para ações frequentes (lançar presença, justificar falta).
  
<<<<<<< HEAD
- **RNF-003 – Idioma & Terminologia**
+ **RNF-012 – Idioma & Terminologia**
=======
- **RNF-003 – Idioma &amp; Terminologia**
+ **RNF-012 – Idioma &amp; Terminologia**
>>>>>>> refactor/eng-requisitos
  
  Português (Brasil) com terminologia do PBM (brigadinos/brigadinas).
  
- **RNF-004 – Navegabilidade de Conteúdos Institucionais**
+ **RNF-013 – Navegabilidade de Conteúdos Institucionais**
  
  Disponibilizar os conteúdos cadastrados em área dedicada do sistema com navegação intuitiva.
```

**Chunk 8**
Lines added: 1, lines removed: 1

```diff
@@ -363,5 +363,5 @@
<<<<<<< HEAD
  ### Módulo: Confiabilidade & Disponibilidade
=======
  ### Módulo: Confiabilidade &amp; Disponibilidade
>>>>>>> refactor/eng-requisitos
  
- **RNF-011 – Disponibilidade**
+ **RNF-014 – Disponibilidade**
  
  Alvo de 99,5% mensal para o MVP.
```

**Chunk 9**
Lines added: 3, lines removed: 3

```diff
@@ -371,13 +371,13 @@
<<<<<<< HEAD
  ### Módulo: Portabilidade & Tecnologia
=======
  ### Módulo: Portabilidade &amp; Tecnologia
>>>>>>> refactor/eng-requisitos
  
- **RNF-017 – Contêineres**
+ **RNF-015 – Contêineres**
  
  Empacotado em Docker para front, back e banco.
  
- **RNF-018 – Stack**
+ **RNF-016 – Stack**
  
  Back-end TypeScript + Express; Front-end Astro; Banco Supabase/PostgreSQL.
  
- **RNF-019 – Compatibilidade de navegação**
+ **RNF-017 – Compatibilidade de navegação**
  
  Suporte a Chrome/Edge/Firefox atuais e Safari atual -1 versão.
```

**Chunk 10**
Lines added: 1, lines removed: 1

```diff
@@ -387,5 +387,5 @@
<<<<<<< HEAD
  ### Módulo: Dados & Relatórios
=======
  ### Módulo: Dados &amp; Relatórios
>>>>>>> refactor/eng-requisitos
  
- **RNF-020 – Exportação fiel**
+ **RNF-018 – Exportação fiel**
  
  PDFs com identidade visual do PBM; CSV/XLSX com separador padrão e codificação UTF-8.
```

</details>

<<<<<<< HEAD
---

Tool use: **todo_write**

## Todo List
=======
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>
>>>>>>> refactor/eng-requisitos

- [x] Reorganizar enumeração dos requisitos funcionais (RF)
- [x] Reorganizar enumeração dos requisitos não funcionais (RNF)

<<<<<<< HEAD
=======
</details>
</tool-use>

>>>>>>> refactor/eng-requisitos
---

Enumeração reorganizada.

## Resumo da reorganização:

### **Requisitos Funcionais (RF):**
- **RF-001** – Gerenciar Aluno
- **RF-002** – Gerenciar responsáveis
- **RF-003** – Exportar documentos de comprovante
- **RF-004** – Editar lançamento de presença
- **RF-005** – Consultar aluno
- **RF-006** – Gerar relatório individual de frequência
- **RF-007** – Consolidar relatórios por turma/unidade
- **RF-008** – Exportar relatórios internos
- **RF-009** – Exibir dashboards de frequência
- **RF-010** – Exibir histórico do aluno
- **RF-011** – Exportar relatórios oficiais padronizados administrativos
- **RF-012** – Registrar advertência para os alunos
- **RF-013** – Enviar notificações para os responsáveis
- **RF-014** – Autenticar usuários e perfis
- **RF-015** – Cadastrar os docentes
- **RF-016** – Cadastrar turmas e sessões
- **RF-017** – Consultar turma
- **RF-018** – Registrar plano de acompanhamento neurodivergente
- **RF-019** – Registro de relatórios dos responsáveis
- **RF-020** – Geração de histórico acessível a docentes e gestores
- **RF-021** – Cadastrar conteúdos institucionais

### **Requisitos Não Funcionais (RNF):**
- **RNF-001** – Tempo de resposta
- **RNF-002** – Tempo de resposta
- **RNF-003** – Carga
- **RNF-004** – Proteção de dados pessoais
- **RNF-005** – Criptografia
- **RNF-006** – Documentação técnica
- **RNF-007** – Testabilidade
- **RNF-008** – Padrões de código
- **RNF-009** – CI/CD
- **RNF-010** – Observabilidade
- **RNF-011** – Usabilidade
- **RNF-012** – Idioma & Terminologia
- **RNF-013** – Navegabilidade de Conteúdos Institucionais
- **RNF-014** – Disponibilidade
- **RNF-015** – Contêineres
- **RNF-016** – Stack
- **RNF-017** – Compatibilidade de navegação
- **RNF-018** – Exportação fiel

Numeração sequencial e sem lacunas.

---

_**User (2025-10-02 12:08Z)**_

@regras-negocio.md faça a correção da enumeração dessas agora 

---

<<<<<<< HEAD
_**Assistant (default)**_
=======
_**Agent (model default, mode Agent)**_
>>>>>>> refactor/eng-requisitos

Reorganizando a enumeração das regras de negócio para remover duplicações e manter a sequência correta.


---

<<<<<<< HEAD
Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 4, lines removed: 10

```diff
@@ -26,22 +26,16 @@
  
  **RB-006**
<<<<<<< HEAD
- Faltas justificadas devem ser registradas como "falta justificada", não anulando a ausência, mas impactando indicadores de forma diferenciada.
=======
- Faltas justificadas devem ser registradas como &quot;falta justificada&quot;, não anulando a ausência, mas impactando indicadores de forma diferenciada.
>>>>>>> refactor/eng-requisitos
- 
- **RB-007**
- Apenas Gestor de Unidade pode aprovar ou rejeitar justificativas de falta de forma autônoma.
- 
- **RB-008**
  Sistema deve permitir parametrização dos motivos justificáveis e exigência de documentos obrigatórios.
  
- **RB-009**
+ **RB-007**
  Limite de 30 alunos por turma (pelotão) deve ser configurável e respeitado.
  
- **RB-010**
+ **RB-008**
  Sistema deve restringir operações por papel de usuário conforme matriz de permissões.
  
- **RB-011**
+ **RB-009**
  Sistema deve operar com dados segregados por unidade, mantendo isolamento completo.
  
- **RB-012**
+ **RB-010**
  Sistema deve registrar trilhas de auditoria para todas as operações sensíveis.
  
```

</details>

<<<<<<< HEAD
---

Tool use: **search_replace**


<details><summary>Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
=======
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **code_edit** • Edit file: docs/src/content/docs/visao/regras-negocio.md</summary>
>>>>>>> refactor/eng-requisitos

**Chunk 1**
Lines added: 1, lines removed: 19

```diff
@@ -88,23 +88,5 @@
  - Busca em comunicações arquivadas deve ser possível
  
- ### RB-006 - Política de Justificativa de Faltas
<<<<<<< HEAD
- **Descrição:** Faltas justificadas devem ser registradas como "falta justificada", não anulando a ausência, mas impactando indicadores de forma diferenciada.
- 
- **Aplicação:**
- - Exibir no histórico como "falta justificada"
=======
- **Descrição:** Faltas justificadas devem ser registradas como &quot;falta justificada&quot;, não anulando a ausência, mas impactando indicadores de forma diferenciada.
- 
- **Aplicação:**
- - Exibir no histórico como &quot;falta justificada&quot;
>>>>>>> refactor/eng-requisitos
- - Contabilizar separadamente das faltas comuns
- - Manter rastreabilidade no relatório individual
- - Impactar indicadores de forma diferenciada
- 
- ### RB-007 - Autonomia Docente para Justificativas
- **Descrição:** Apenas Gestor de Unidade pode aprovar ou rejeitar justificativas de falta de forma autônoma.
- 
- **Aplicação:**
- - Interface para gestores validarem justificativas
- - Registro de decisão (aprovada/recusada) com data/hora
- - Notificação ao responsável sobre a decisão
- - Docentes podem registrar justificativas, mas não aprová-las
- 
- ### RB-008 - Motivos e Documentos para Justificativa
+ ### RB-006 - Motivos e Documentos para Justificativa
  **Descrição:** Sistema deve permitir parametrização dos motivos justificáveis e exigência de documentos obrigatórios.
  
```

**Chunk 2**
Lines added: 1, lines removed: 1

```diff
@@ -115,5 +97,5 @@
  - Configuração flexível de políticas por unidade
  
- ### RB-009 - Limite de Alunos por Turma
+ ### RB-007 - Limite de Alunos por Turma
  **Descrição:** Limite de 30 alunos por turma (pelotão) deve ser configurável e respeitado.
  
```

**Chunk 3**
Lines added: 1, lines removed: 1

```diff
@@ -124,5 +106,5 @@
  - Configuração flexível do limite por unidade
  
- ### RB-010 - Controle de Permissões de Acesso
+ ### RB-008 - Controle de Permissões de Acesso
  **Descrição:** Sistema deve restringir operações por papel de usuário conforme matriz de permissões.
  
```

**Chunk 4**
Lines added: 1, lines removed: 1

```diff
@@ -135,5 +117,5 @@
  - Validação de acesso em cada operação
  
- ### RB-011 - Operação Multiunidade
+ ### RB-009 - Operação Multiunidade
  **Descrição:** Sistema deve operar com dados segregados por unidade, mantendo isolamento completo.
  
```

**Chunk 5**
Lines added: 1, lines removed: 1

```diff
@@ -145,5 +127,5 @@
  - Operação em 12 cidades/unidades
  
- ### RB-012 - Registro de Auditoria
+ ### RB-010 - Registro de Auditoria
  **Descrição:** Sistema deve registrar trilhas de auditoria para todas as operações sensíveis.
  
```

</details>

<<<<<<< HEAD
=======
</tool-use>

>>>>>>> refactor/eng-requisitos
---

Enumeração das regras de negócio corrigida.

## Resumo da correção:

### **Regras de Negócio Principais:**
- **RB-001** – Faltas justificadas impactam a frequência, mas são reportadas separadamente nos indicadores
- **RB-002** – Apenas Gestor de Unidade pode aprovar/recusar justificativas
- **RB-003** – Crianças com condições médicas críticas devem exibir alerta em telas de chamada e relatórios
- **RB-004** – Responsáveis visualizam apenas dados da(s) criança(s) sob sua tutela
- **RB-005** – Comunicação oficial deve permanecer registrada no sistema (não apagar, apenas arquivar)
- **RB-006** – Sistema deve permitir parametrização dos motivos justificáveis e exigência de documentos obrigatórios
- **RB-007** – Limite de 30 alunos por turma (pelotão) deve ser configurável e respeitado
- **RB-008** – Sistema deve restringir operações por papel de usuário conforme matriz de permissões
- **RB-009** – Sistema deve operar com dados segregados por unidade, mantendo isolamento completo
- **RB-010** – Sistema deve registrar trilhas de auditoria para todas as operações sensíveis

### **Alterações realizadas:**
1. Removidas duplicações (RB-006 e RB-007 duplicadas)
2. Reorganizada a sequência de RB-001 a RB-010
3. Atualizado o detalhamento para corresponder à nova enumeração
4. Mantida a consistência entre a lista principal e o detalhamento

Enumeração sequencial e sem duplicações.

---

